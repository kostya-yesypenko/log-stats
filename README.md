

# üì¶ Log Stats ‚Äî JSON Parser & XML Statistics Generator

–ö–æ–Ω—Å–æ–ª—å–Ω–∞ Java-–ø—Ä–æ–≥—Ä–∞–º–∞, —è–∫–∞:

* –ø–∞—Ä—Å–∏—Ç—å **–∫—ñ–ª—å–∫–∞ JSON-—Ñ–∞–π–ª—ñ–≤** –∑ –ø–∞–ø–∫–∏,
* –æ–±—Ä–æ–±–ª—è—î —Å—É—Ç–Ω—ñ—Å—Ç—å *Order*,
* —Ä–∞—Ö—É—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –≤–∏–±—Ä–∞–Ω–∏–º –∞—Ç—Ä–∏–±—É—Ç–æ–º,
* —Ñ–æ—Ä–º—É—î **XML-—Ñ–∞–π–ª** `statistics_by_{attribute}.xml`,
* –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–ø—É–ª –ø–æ—Ç–æ–∫—ñ–≤** (1, 2, 4, 8) –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è –æ–±—Ä–æ–±–∫–∏ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤,
* –ø—Ä–∞—Ü—é—î –±–µ–∑ –ë–î —Ç–∞ –±–µ–∑ Spring, —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó + —Å—Ç—Ä—ñ–º–∏.

---


## üìò –û–ø–∏—Å –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π

### **Order**

```json
{
  "id": "1",
  "status": "Pending",
  "customer": { "name": "Alice" },
  "tags": ["VIP", "Fast"]
}
```

–ü–æ–ª—è:

* `id` ‚Äî —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
* `status` ‚Äî —Ä—è–¥–æ–∫
* `customer.name` ‚Äî –∫–ª—ñ—î–Ω—Ç
* `tags` ‚Äî **–º–∞—Å–∏–≤ —Ç–µ–≥—ñ–≤** (–∫–∞—Ç–µ–≥–æ—Ä—ñ–π)


### **Customer**

```json
{
  "id": "1",
  "name": "Oleg"
}
```

–ü–æ–ª—è:

* `id` ‚Äî —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
* `name` ‚Äî –∫–ª—ñ—î–Ω—Ç

---

### **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**

| –ê—Ç—Ä–∏–±—É—Ç    | –û–ø–∏—Å                        | –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏      |
| ---------- | --------------------------- | ----------------------- |
| `status`   | –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø–æ —Å—Ç–∞—Ç—É—Å—É       | Pending=10, Completed=7 |
| `customer` | –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø–æ —ñ–º–µ–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∞ | Alice=2, Bob=5          |
| `tags`     | **–∞–≥—Ä–µ–≥–∞—Ü—ñ—è —Ç–µ–≥—ñ–≤ (–º–∞—Å–∏–≤)** | VIP=4, Fast=2, Normal=3 |

---

## üèó –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É

### 1. –ó—ñ–±—Ä–∞—Ç–∏ jar

```
mvn clean package
```

### 2. –ó–∞–ø—É—Å–∫ –∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É

```
java -jar target/log-stats-0.0.1-SNAPSHOT.jar <path_to_folder> <attribute>
```

### üîç –ü—Ä–∏–∫–ª–∞–¥

```
java -jar target/log-stats-0.0.1-SNAPSHOT.jar C:/data/orders tags
```

### üìÑ –†–µ–∑—É–ª—å—Ç–∞—Ç

–£ –∫–æ—Ä–µ–Ω—ñ –∑–∞–ø—É—â–µ–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Ñ–∞–π–ª:

```
statistics_by_{attribute}.xml
```

–í—ñ–Ω –º—ñ—Å—Ç–∏—Ç–∏–º–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É –≤–∏–≥–ª—è–¥—ñ:

```xml
<statistics>
    <entry>
        <key>VIP</key>
        <value>2</value>
    </entry>
    <entry>
        <key>Fast</key>
        <value>1</value>
    </entry>
    <entry>
        <key>Normal</key>
        <value>1</value>
    </entry>
</statistics>
```

–í—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ –≤—ñ–¥ –Ω–∞–π–±—ñ–ª—å—à–æ–≥–æ –¥–æ –Ω–∞–π–º–µ–Ω—à–æ–≥–æ.

---

## ‚öôÔ∏è –Ø–∫ –ø—Ä–∞—Ü—é—î –ø–∞—Ä—Å–µ—Ä

–Ø –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é **Jackson Streaming API**, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î:

* –Ω–µ —á–∏—Ç–∞—Ç–∏ –≤–µ—Å—å —Ñ–∞–π–ª —É –ø–∞–º º—è—Ç—å,
* –æ–±—Ä–æ–±–ª—è—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ –æ–¥–Ω–æ–º—É,
* –ø–∞—Ä—Å–∏—Ç–∏ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏ –≤ –¥–µ–∫—ñ–ª—å–∫–∞ –≥—ñ–≥–∞–±–∞–π—Ç.

–§–∞–π–ª–∏ —á–∏—Ç–∞—é—Ç—å—Å—è —Ç–∞–∫:

1. –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è JsonParser.
2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, —â–æ JSON ‚Äî –º–∞—Å–∏–≤ `[ ... ]`.
3. –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —á–∏—Ç–∞—î—Ç—å—Å—è —è–∫ `Order` –±–µ–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –ø–æ–≤–Ω—ñ—Å—Ç—é.
4. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —Å–µ—Ä–≤—ñ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

---

## üßµ –ü—É–ª –ø–æ—Ç–æ–∫—ñ–≤

–ö–æ–∂–µ–Ω —Ñ–∞–π–ª –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è **–≤ –æ–∫—Ä–µ–º–æ–º—É –ø–æ—Ç–æ—Ü—ñ**.
–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—ñ–≤ –≤–∏—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `ThreadPoolService(int threads)`.

---

## üöÄ –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –∑—ñ —à–≤–∏–¥–∫–æ–¥—ñ—î—é

| –ü–æ—Ç–æ–∫–∏ |          –ß–∞—Å                |
| ------ | --------------------------- |
| 1      | 180 ms                      |
| 2      | 120 ms                      |
| 4      | 75 ms                       |
| 8      | 70 ms                       |


–í–∏—Å–Ω–æ–≤–∫–∏:

* **4 –ø–æ—Ç–æ–∫–∏** ‚Äî –Ω–∞–π–∫—Ä–∞—â–∏–π –±–∞–ª–∞–Ω—Å.
* –ü—Ä–∏ 8 –ø–æ—Ç–æ–∫–∞—Ö –≤–∏–≥—Ä–∞—à –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —á–µ—Ä–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—ñ–≤.

---

## üß™ Unit-—Ç–µ—Å—Ç–∏

–ù–∞–ø–∏—Å–∞–Ω—ñ —Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:

### ‚úîÔ∏è JSON-–ø–∞—Ä—Å–∏–Ω–≥

`JsonStreamReaderTest` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É 1 —Ç–∞ 2 —Ñ–∞–π–ª—ñ–≤.

### ‚úîÔ∏è –õ–æ–≥—ñ–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

`StatisticsServiceTest` ‚Äî –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ status, customer, tags.

### ‚úîÔ∏è XML-–≤–∏–≤—ñ–¥

`XmlWriterServiceTest` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, —â–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è XML-—Ñ–∞–π–ª.

---

## üìö –ü—Ä–∏–∫–ª–∞–¥–∏ –≤—Ö—ñ–¥–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

`orders1.json`:

```json
[
  {
    "id": "1",
    "status": "Pending",
    "customer": {"name": "Alice"},
    "tags": ["VIP", "Fast"]
  },
  {
    "id": "2",
    "status": "Completed",
    "customer": {"name": "Bob"},
    "tags": ["VIP"]
  }
]
```

---

## üì¶ –ü—Ä–∏–∫–ª–∞–¥ –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ XML

`statistics_by_status.xml`:

```xml
<statistics>
    <entry>
        <key>Pending</key>
        <value>2</value>
    </entry>
    <entry>
        <key>Completed</key>
        <value>1</value>
    </entry>
</statistics>
```

---

## üìù –í–∏—Å–Ω–æ–≤–∫–∏

–ü—Ä–æ—î–∫—Ç –ø–æ–≤–Ω—ñ—Å—Ç—é:

‚úî –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∏–º–æ–≥–∞–º
‚úî –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Ç–æ–∫–∏
‚úî –º–∞—î —Å—Ç—Ä—ñ–º-–ø–∞—Ä—Å–∏–Ω–≥ JSON
‚úî –ø–∏—à–µ XML
‚úî –º–∞—î —Ç–µ—Å—Ç–∏
‚úî –º–∞—î README –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏
‚úî –ø—Ä–∞—Ü—é—î –∑ –≤–µ–ª–∏–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

---

